input {
  file {
    path => "/home/elk-plugin/SIEM-DB/completed/db-place.csv"
    start_position => "beginning"
    sincedb_path => "/dev/null"
  }
}

filter {
  csv {
    separator => ","
    columns => ["id", "place_english", "place_german", "place_russian", "place_japanese", "place_french", "place_chinese", "place_spanish", "place_czech", "place_italian"]
  }

  ruby {
    code => '
      event.to_hash.each { |k, v|
        if v == "" || v.nil?
          event.remove(k)
        end
      }
    '
  }
}

output {
  elasticsearch {
    hosts => ["localhost:9200"]
    index => "place_db"
  }
}
